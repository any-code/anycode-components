<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Anycode Components - Demo</title>
    <link rel="stylesheet" href="normalize.css">
    <link rel="stylesheet" href="starveling.css">
    <link href='https://fonts.googleapis.com/css?family=Titillium+Web:300,400,600' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.0/animate.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.css">
    <link rel="stylesheet" href="iconic-theme.css">
    <link rel="stylesheet" href="iconic-font.css">
    <link rel="stylesheet" href="demo.css">
    <link rel="stylesheet" href="prism.css">
</head>
<body>
<demo>

    <div>
    <iconic-navigation data-fixed="left">
        <ul>
            <li class="separator"></li>
            <li data-tip="navigation-tip"><a href="#iconic-announcement" ><iconic-button float="left" size="3.2" inset color="#777" hotkey="a"><i class="icon-announcement"></i></iconic-button>&nbsp;<i1-8n>iconic-announcement</i1-8n></a></li>
            <li data-tip="navigation-tip"><a href="#iconic-button" ><iconic-button float="left" size="3.2" inset color="#777" hotkey="b"><i class="icon-button"></i></iconic-button>&nbsp;<i1-8n>iconic-button</i1-8n></a></li>
            <li data-tip="navigation-tip"><a href="#iconic-navigation" ><iconic-button float="left" size="3.2" inset color="#777" hotkey="n"><i class="icon-navigation"></i></iconic-button>&nbsp;<i1-8n>iconic-navigation</i1-8n></a></li>
            <li data-tip="navigation-tip"><a href="#iconic-tip" ><iconic-button float="left" size="3.2" inset color="#777" hotkey="t"><i class="icon-tip"></i></iconic-button>&nbsp;<i1-8n>iconic-tip</i1-8n></a></li>
            <li class="separator"></li>
            <li data-tip="navigation-tip"><a href="#basic-button" ><iconic-button float="left" size="3.2" inset color="#777" hotkey="u"><i class="icon-button"></i></iconic-button>&nbsp;<i1-8n>basic-button</i1-8n></a></li>
            <li class="separator"></li>
        </ul>
    </iconic-navigation>
    </div>
    <a id="iconic-announcement"></a>
    <article class="right">
        <style>
            .u-well {
                font-size: 0;
                min-width: 6rem;
            }

            .u-well > * {
                margin: 0.5rem 0.5rem 0.5rem 0;
            }

            .u-well > *:first-child {
                margin-left: 0.5rem;
            }

            .u-well > *.wrapped {
                margin-left: 0.5rem;
                margin-right: 0.5rem;
                display: inline-block;
            }

            .button-small {
                height: 4rem;
                padding: 0 2.1rem;
                line-height: 1.9rem;
                letter-spacing: 0rem;
                font-size: 1.6rem;
                vertical-align: top;
                text-align: center;
            }

            .button-icon {
                height: 5rem;
                width: 5rem;
                padding: 0;
                line-height: 1.9rem;
                letter-spacing: 0rem;
                font-size: 2.6rem;
                vertical-align: top;
                text-align: center;
                min-width: 5rem;
            }

            .button-small.button-icon {
                height: 4rem;
                width: 4rem;
                padding: 0;
                line-height: 1.3rem;
                letter-spacing: 0rem;
                font-size: 2.1rem;
                vertical-align: top;
                text-align: center;
            }

            .button-primary.button-red {
                background: #d2666f;
                border: #d2666f;
            }
        </style>
        <div class="u-well" style="background: #EEE; padding: 1rem; text-align: left; margin-bottom: 4rem;">
            <button class="button-primary button-icon"><i class="icon-tip"></i></button>
            <button class="button-primary button-icon"><i class="icon-announcement"></i></button>
            <button class="button-primary button-icon"><i class="icon-navigation"></i></button>
            <button class="button-primary button-icon"><i class="icon-button"></i></button>
            <button class="button-primary button-red">STOP</button>
            <button class="button-primary">CONTINUE</button>
        </div>

        <div class="u-well">
            <button class="button-primary button-small button-icon"><i class="icon-tip"></i></button>
            <button class="button-primary button-small button-icon"><i class="icon-announcement"></i></button>
            <button class="button-primary button-small button-icon"><i class="icon-navigation"></i></button>
            <button class="button-primary button-small button-icon"><i class="icon-button"></i></button>
            <button class="button-primary button-small">CONTY</button>
        </div>
        <header>
            <h1><span class="tag-name">&lt;<b><i1-8n>iconic-announcement</i1-8n></b>/&gt;</span></h1>

        </header>
        <blockquote><i class="icon-announcement icon"></i>
            <b><i1-8n>iconic-announcement</i1-8n></b> is a flash/toaster message suitable for displaying short-lived announcements and notifications. <b><i1-8n>iconic-announcement</i1-8n></b> displays a visual dismissal cue which can be halted by clicking the content of the announcement.
        </blockquote>
        <section>
            <h3>Try It</h3>
            <button data-me onclick="{ opts.showAnnouncement }">Show Announcement</button>
            <button data-me onclick="{ opts.showWarning }">Show Warning</button>
            <iconic-announcement name="warning" class="warning">
                <em>WARNING</em><br>You are running on reserve inspiration. Be creative immediately!
            </iconic-announcement>
            <iconic-announcement name="announcement" class="success">
                <em>Congratulations</em><br>You've successfully clicked the <em>Show Announcement</em> button.
            </iconic-announcement>
        </section>
    </article>
    <a id="iconic-button"></a>
    <article class="right">
        <header>
            <h1><span class="tag-name">&lt;<b><i1-8n>iconic-button</i1-8n></b>/&gt;</span></h1>

        </header>
        <blockquote><i class="icon-button icon"></i>
            <b><i1-8n>iconic-button</i1-8n></b> is a keyboard aware visual button. It contains a single icon, sized in root ems. <b><i1-8n>iconic-button</i1-8n></b> can be
            used with an icon font symbol or just plain text providing a consistent look and feel to icon and button UI elements
        </blockquote>
        <section>
            <h3>Demonstration</h3>
            <div class="button-sample">
                <h6>Text</h6>
                <iconic-button size="10" inset float="left" color="#069" onclick="{ opts.alert }" hotkey="0)">+</iconic-button>
                <iconic-button size="9" inset float="left" color="#079" onclick="{ opts.alert }" hotkey="9(">-</iconic-button>
                <iconic-button size="8" inset float="left" color="#089" onclick="{ opts.alert }" hotkey="8*">&times;</iconic-button>
                <iconic-button size="7" inset float="left" color="#099" onclick="{ opts.alert }" hotkey="7&">&divide;</iconic-button>
            </div>
            <div class="button-sample">
                <h6>Icon Font</h6>
                <iconic-button inset float="left" size="7" color="#07F" onclick="{ opts.alert }" hotkey="cC"><i class="fa fa-birthday-cake"></i></iconic-button>
                <iconic-button inset float="left" size="8" color="#17E" onclick="{ opts.alert }" hotkey="mM"><i class="fa fa-camera"></i></iconic-button>
                <iconic-button inset float="left" size="9" color="#27D" onclick="{ opts.alert }" hotkey="oO"><i class="fa fa-building-o"></i></iconic-button>
                <iconic-button inset float="left" size="10" color="#37C" onclick="{ opts.alert }" hotkey="uU"><i class="fa fa-bug"></i></iconic-button>
            </div>
        </section>
        <section>
            <h3>Code Sample</h3>
            <pre class="language-markup"><code class="language-markup">
&lt;!-- With Icon Font -->
&lt;iconic-button name="birthdayButton" float="left" size="7" color="#07F" hotkey="c" onclick="">
    &lt;i class="fa fa-birthday-cake">&lt;/i>
&lt;/iconic-button>

&lt;!-- With Text -->
&lt;iconic-button name="addButton" float="left" size="7" color="#07F" hotkey="c" onclick="">+&lt;/iconic-button>
            </code></pre>
        </section>
        <section><h3>Attributes</h3>
            <div class="attributes">
                <ul>
                    <li>
                        <h5><span>name</span><label>attribute</label></h5>
                        <ul>
                            <li><label>Purpose</label> <p>A unique name by which a containing riot-tag can reference the iconic-button<br><code>this.tags.buttonName</code></p></li>
                            <li><label>Value</label> <p>buttonName</p></li>
                            <li><label>Default</label> <p>not named</p></li>
                            <li><label>Required</label></li>
                        </ul>
                    </li>
                    <li>
                        <h5><span>float</span><label>attribute</label></h5>
                        <ul>
                            <li><label>Purpose</label> <p>Control the layout for different containers by assigning a float instruction</p></li>
                            <li><label>Value</label> <p>buttonName</p></li>
                            <li><label>Default</label> <p>left | right | none</p></li>
                        </ul>
                    </li>
                    <li>
                        <h5><span>size</span><label>attribute</label></h5>
                        <ul>
                            <li><label>Purpose</label> <p>Control the size of the iconic-button</p></li>
                            <li><label>Value</label> <p>any numeric value in rems</p></li>
                            <li><label>Default</label> <p>none</p></li>
                            <li><label>Required</label></li>
                        </ul>
                    </li>
                    <li>
                        <h5><span>hotkey</span><label>attribute</label></h5>
                        <ul>
                            <li><label>Purpose</label> <p>A keyboard character that can be used to trigger the buttons onclick event</p></li>
                            <li><label>Value</label> <p>a..z, 0..9</p></li>
                            <li><label>Default</label> <p>none</p></li>
                            <li><label>More Info</label> <p>By holding the <code>shift</code> key all <b><i1-8n>iconic-button</i1-8n></b>'s with assigned hotkey's will transform to show their hotkey</p></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </section>
    </article>
    <a id="iconic-navigation"></a>
    <article class="right">
        <header>
            <h1><span class="tag-name">&lt;<b><i1-8n>iconic-navigation</i1-8n></b>/&gt;</span></h1>

        </header>
        <blockquote><i class="icon-navigation icon"></i>
            <b><i1-8n>iconic-navigation</i1-8n></b> is a vertical navigation list composed of iconic navigation items
        </blockquote>
        <section>
            <h3>Demonstration</h3>
            <iconic-navigation>
                <ul>
                    <li><a href="#iconic-button"><iconic-button float="left" size="3.2" inset color="#0B9">y</iconic-button>&nbsp;Yes</a></li>
                    <li><a href="#iconic-navigation"><iconic-button float="left" size="3.2" inset color="#0B9">n</iconic-button>&nbsp;No</a></li>
                </ul>
            </iconic-navigation>
        </section>
        <section>
            <h3>Content</h3>
            <p>A standard <code>ul</code> element is provided as content</p>
        </section>
        <section><h3>Attributes</h3>
            <div class="attributes">
                <ul>
                    <li>
                        <h5><span>data-fixed</span><label>attribute</label></h5>
                        <ul>
                            <li><label>Purpose</label> <p>specify if iconic-navigation should be fixed to the left or right of the viewport</p></li>
                            <li><label>Value</label> <p>left | right | none</p></li>
                            <li><label>Default</label> <p>none</p></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </section>
    </article>
    <a id="iconic-tip"></a>
    <article class="right">
        <header>
            <h1><span class="tag-name">&lt;<b><i1-8n>iconic-tip</i1-8n></b>/&gt;</span></h1>
        </header>
        <blockquote><i class="icon-tip icon"></i>
            <b><i1-8n>iconic-tip</i1-8n></b> is a tool tip
        </blockquote>
        <section>
            <h3>Try It</h3>
            <h6>Above</h6>
            <button data-tip="tip-above">Hover above me</button>
            <iconic-tip position="above" name="tip-above">
                <div style="padding: 1rem; max-width: 40rem;">
                    <h5>This tooltip is helpful but we have a whole webpage on the topic...</h5>
                </div>

                <div style="margin-bottom: 1rem; height: 4rem;">
                    <basic-button float="right" inset size="4" color="#0C8">LEARN MORE</basic-button>
                </div>
            </iconic-tip>
            <h6>Below</h6>
            <button data-tip="tip-below">Hover below me</button>
            <iconic-tip position="below" name="tip-below">Help me I'm lost</iconic-tip>
            <h6>Right</h6>
            <button data-tip="tip-right">Hover to my right</button>
            <iconic-tip position="right" name="tip-right">Help me I'm lost</iconic-tip>
            <h6>Left</h6>
            <button data-tip="tip-left">Hover to my left</button>
            <iconic-tip position="left" name="tip-left">Help me I'm lost</iconic-tip>
        </section>
    </article>
    <a id="basic-button"></a>
    <article class="right">
        <header>
            <h1><span class="tag-name">&lt;<b><i1-8n>basic-button</i1-8n></b>/&gt;</span></h1>
        </header>
        <blockquote><i class="icon-button icon"></i>
            A <b><i1-8n>basic-button</i1-8n></b> is variable width button
        </blockquote>
        <section>
            <h3>Demonstration</h3>




            <div style="padding: 4rem;">
                <basic-button inset size="4" color="#0C8">LEARN MORE</basic-button>
            </div>

            <div style="padding: 4rem;">
                <iconic-button float="right" inset size="4" color="#C00" >&times;</iconic-button>
                <basic-button float="right" inset size="3.6" color="#33F">LEARN MORE</basic-button>
                <iconic-button float="left" inset size="4" color="#33F" >+</iconic-button>
                <basic-button float="left" inset size="3.6" color="#C00">LEARN LESS</basic-button>

            </div>
        </section>
    </article>
    <mbs-footer product-name="anycode-components" browser-stack privacy-links></mbs-footer>
</demo>
<script src="prism.js"></script>
<script src="//cdn.jsdelivr.net/riot/2.3/riot+compiler.js"></script>
<script src="../node_modules/anycode-mbs-footer/mbs-footer.min.js"></script>
<script src="../node_modules/classlist-polyfill/src/index.js"></script>
<script src="../node_modules/riot-i18n/riot-i18n.min.js"></script>
<script src="../anycode-components.js"></script>
<script>
    i18n.dictionary({
        "anycode": {
            "iconic-button": "anycode-button"
        },
        "awesome": {
            "iconic-button": "awesome-button"
        }
    })

    riot.mount('demo', {
        showWarning: function() {
            this.tags.warning.show(6000)
        },
        showAnnouncement: function() {
            this.tags.announcement.show(2000)
        },
        alert: function(e) {
            console.log("YOU CLICKED", e.target.innerText);
        }
    });

    this.i18n.setLanguage('iconic');

    function cFloat(property) {
        return parseFloat(property.slice(0,-2),10)
    }

    var iconic = {
        wells: {
            render: function() {
                var wellList = document.querySelectorAll('.u-well'),
                    wells = Array.prototype.slice.call(wellList, 0);

                wells.forEach(function(well) {
                    var wellStyle = window.getComputedStyle(well),
                        wellPaddingWidth = cFloat(wellStyle.paddingLeft) + cFloat(wellStyle.paddingRight),
                        wellUsableWidth = well.clientWidth - wellPaddingWidth,
                        elements = Array.prototype.slice.call(well.children, 0),
                        offsetTop = elements[0].offsetTop,
                        offsetLeft = elements[0].offsetLeft

                    elements.forEach(function(element) {
                        var elementStyle = window.getComputedStyle(element),
                            elementMarginWidth = cFloat(elementStyle.marginLeft) + cFloat(elementStyle.marginRight)

                        if (element._iconic_original_style === undefined) {
                            element._iconic_original_width = element.offsetWidth;
                            element._iconic_original_style = elementStyle;
                            element._iconic_original_font_size = elementStyle.fontSize;
                            console.log("X", element._iconic_original_style.fontSize)
                        }

                        element.style.fontSize = element._iconic_original_font_size;

                        if (element.offsetTop !== offsetTop && element.offsetLeft <= offsetLeft || wellUsableWidth < 200) {
                            element.classList.add('wrapped');
                            element.style.fontSize = element._iconic_original_style.fontSize;

                            if (wellUsableWidth - (element._iconic_original_width + elementMarginWidth) < 0 || wellUsableWidth < 200) {
                                element.style.width = "" + (wellUsableWidth - elementMarginWidth) + "px";
                                element.style.paddingLeft = "0";
                                element.style.paddingRight = "0";


                                while (element.scrollWidth > element.clientWidth && element.clientWidth > 10) {
                                    console.log("" + parseFloat(cFloat(elementStyle.fontSize) - 0.5) + "px", element.scrollWidth > element.clientWidth || cFloat(elementStyle.fontSize) < 5)
                                    element.style.fontSize = "" + parseFloat(cFloat(elementStyle.fontSize) - 0.5) + "px";
                                }

                            } else {
                                element.style.width = element._iconic_original_width + "px";
                                element.style.paddingLeft = element._iconic_original_style.paddingLeft;
                                element.style.paddingRight = element._iconic_original_style.paddingRight;
                            }
                        } else {
                            element.style.width = element._iconic_original_width;
                            element.classList.remove('wrapped');
                        }
                    })
                });
            }
        },
        init: function() {
            window.addEventListener('resize', function() {
                iconic.wells.render();
            })
            this.wells.render();
        }
    }

    iconic.init();

</script>
</body>
</html>
